---
title: Java泛型
tags: [Java,泛型]
categories:
  - Java
date: 2020-08-17 21:40:13
entitle: Java-Generics
---

Java泛型解读。

<!--more-->

# 泛型概述

泛型程序设计是程序设计语言的一种风格或范式。泛型设计允许程序员在强类型程序设计语言中编写代码时使用一些以后才指定的类型，在实例化时作为参数指明这些类型。在《Design Patterns》中称为参数化类型。

使用泛型可以为不同类型的对象编写相同的容器类，以实现某种公用的方法模板。

# Java泛型

Java 泛型（generics）是 JDK 5 中引入的一个新特性, 泛型提供了编译时类型安全检测机制，该机制允许程序员在编译时检测到非法的类型。泛型的本质是参数化类型，也就是说所操作的数据类型被指定为一个参数。

Java的泛型是伪泛型，这是因为在编译期间，所有的泛型类型将会被擦除，Java的泛型是是现在编译器层面上的，在生成的字节码当中是不包含泛型的类型信息的，使用泛型的时候加上类型参数，在编译时去掉，这个过程称之为类型擦除。

## 类型擦除

类型擦除之后，字节码中的类型对应的就是其**原始类型**，当未指定其限定类型时为Object。

指定限定类型：

```java

class Pair<T extends Comparable> {}

```

在指定原始类型之后，那么其边界就用所指定的变量类型替换，即`T`必须是`Comparable`的子类。

## 泛型方法

```java

public static <T> T func(T a, T b){
  return a;
}

```

在调用泛型方法时，可以指定泛型，也可以不指定泛型。

* 不指定泛型：泛型变量的类型为该方法中的几种类型的同一父类的最小级，直到Object
* 指定泛型：集中类型必须是该泛型类型的实例或者其子类


# 泛型中的通配符

# 逆变、协变、不变

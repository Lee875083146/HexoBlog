---
title: 设计模式——工厂模式
tags: [设计模式,工厂模式]
categories:
- 设计模式
- 工长模式
date: 2019-08-27 15:24:40
entitle: DesignPattern-Factory
---
本文介绍工厂模式，包括简单工厂、工厂方法、抽象工厂。
<!--more-->

## SimpleFactory

简单工厂模式把一组对象实例化的操作单独放到一个简单工厂类中，让简单工厂来决定应该实例化哪一个具体子类。

简单工厂把Client和具体子类的实现进行了解耦，客户端不需要知道子类实现的细节。

```java
@Data
@SuperBuilder
@NoArgsConstructor
@AllArgsConstructor
public abstract class Computer {

    private String cpu;

    private String gpu;

    private Integer memory;

    private Integer ssd;

    private Integer hhd;

    public abstract void usedFor();
}
```

```java
@Data
@SuperBuilder
@NoArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Slf4j
public class AsusComputer extends Computer {

    @Override
    public void usedFor() {
        log.info("AsusComputer- usedFor- Game");
    }
}
```

```java
@Data
@SuperBuilder
@NoArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Slf4j
public class MacComputer extends Computer {

    @Override
    public void usedFor() {
        log.info("MacComputer- usedFor- Work");
    }
}

```

```java
public class ComputerFactory {

    public enum COMPUTER_TYPE {
        ASUS,
        MAC;

        COMPUTER_TYPE() {
        }

    }

    public Computer createComputer(COMPUTER_TYPE type) {
        if (COMPUTER_TYPE.MAC.equals(type)) {
            return new MacComputer();
        } else if (COMPUTER_TYPE.ASUS.equals(type)) {
            return new AsusComputer();
        } else {
            return null;
        }
    }

}

```

```java
public class Client {

    public static void main(String[] args) {
        ComputerFactory computerFactory = new ComputerFactory();
        Computer computer = computerFactory.createComputer(ComputerFactory.COMPUTER_TYPE.MAC);
        computer.usedFor();
    }
}

```

## FactoryMethod

```java
public abstract class AbstractComputerFactory {

    abstract Computer createComputer();
    
}
```

```java
public class AsusComputerFactory extends AbstractComputerFactory {

    @Override
    Computer createComputer() {
        return new AsusComputer();
    }

}

```

```java
public class MacFactory extends AbstractComputerFactory {

    @Override
    Computer createComputer() {
        return new MacComputer();
    }
}

```

```java
public class Client {

    public static void main(String[] args) {
        AbstractComputerFactory computerFactory = new AsusComputerFactory();
        Computer computer = computerFactory.createComputer();
        computer.usedFor();
    }
}

```

## AbstractFactory
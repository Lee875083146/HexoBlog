---
title: 设计模式——状态模式
tags: [设计模式,状态模式]
categories:
- 设计模式
- 状态模式
date: 2019-11-19 21:13:11
entitle: DesignPattern-State
---

本文介绍状态模式。

<!--more-->

## 概念

允许一个对象在其内部状态改变时改变它的行为，对象看起来似乎修改了它的类。

## 结构和工作原理

* Context：上下文类，是拥有状态的对象，持有抽象状态类State的实例，该实例定义当前的状态，在具体实现时，它是一个State子类的对象，可以定义初始状态
* State：抽象状态类，用于定义一个接口以封装与环境类的一个特定状态相关的行为
* ConcreteState：具体状态类，抽象状态类的子类，每一个子类定义一个与环境类的一个状态相关的行为，每一个具体状态类对应环境的一个具体状态，不同具体状态类其行为有所不同

状态模式描述了对象的状态变化以及对象在不同状态下的不同行为，适用于对象状态需要经常切换且在不同状态下对象的行为不同。

状态模式将对象本身决定状态的属性抽取出来，封装成抽象状态类，并将不同的状态用不同的具体抽象类表示，实现不同状态下的行为，包括**状态之间的转换**。

环境类持有抽象状态类的引用，可以在运行时将任一具体状态对象类设置到环境类中，从而状态类可以改变内部状态随之改变行为，环境类有时可以充当状态管理器的角色，可以在环境类中对状态进行切换操作。

优点：
* 封装


## 代码示例



## 参考资料
